<div class="button-layer-wrapper">

  {% if layers_def['overlays'] | length > 0 %}
    {% for group in layers_def['overlays'] %}
      {% for layer in group['layers'] %}
        {% if layer['type'] == 'digitize' %}
          <button class="btn btn-default overlay-layer"
              ng-click="toggleLayerVisibleByName('{$ layer['name'] $}')"
              ng-class="{'active': layerIsVisibleByName('{$ layer['name'] $}')}">
              <span class="glyphicon glyphicon-wrench"></span>
                {$ layer['title'] $}
          </button>
        {% endif %}
      {% endfor %}
    {% endfor %}
  {% endif %}

    {% if layers_def['backgroundLayer'] | length > 0 %}
      <div class="btn-group">
      {% for layer in layers_def['backgroundLayer'] %}
          <button class="btn btn-default"
              ng-click="setBackgroundLayerByName('{$ layer['name'] $}')"
              ng-class="{'active': layerIsVisibleByName('{$ layer['name'] $}')}">
            {$ layer['title'] $}
          </button>
      {% endfor %}
      </div>
    {% endif %}
</div>